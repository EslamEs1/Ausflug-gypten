{% extends 'base.html' %}
{% load static %}

{% block title %}
<title>Registrieren | AusflugÄgypten</title>
{% endblock title %}

{% block content %}
<main>
  <!-- Hero Section -->
  <section class="relative h-[400px] bg-gradient-to-br from-primary-gold via-primary-gold/90 to-primary-blue">
    <div class="absolute inset-0 bg-[url('/static/img/patterns/topography.svg')] opacity-10"></div>
    <div class="relative z-10 h-full flex items-center">
      <div class="container mx-auto px-4">
        <div class="max-w-4xl mx-auto text-center">
          <div class="inline-flex items-center gap-2 bg-white/20 backdrop-blur-sm rounded-full px-4 py-2 mb-6">
            <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
            </svg>
            <a href="{% url 'core:home' %}" class="text-white hover:text-primary-blue transition-colors">Home</a>
            <span class="text-white">/</span>
            <span class="text-white">Registrieren</span>
          </div>
          <h1 class="text-white font-heading font-bold mb-4 text-4xl md:text-6xl">Konto erstellen</h1>
          <p class="text-white/90 text-xl md:text-2xl">Werden Sie Mitglied und entdecken Sie exklusive Angebote!</p>
        </div>
      </div>
    </div>
    <!-- Wave Separator -->
    <div class="absolute bottom-0 left-0 w-full">
      <svg viewBox="0 0 1440 120" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M0 0L60 10C120 20 240 40 360 46.7C480 53 600 47 720 43.3C840 40 960 40 1080 46.7C1200 53 1320 67 1380 73.3L1440 80V120H1380C1320 120 1200 120 1080 120C960 120 840 120 720 120C600 120 480 120 360 120C240 120 120 120 60 120H0V0Z" fill="#F9FAFB"/>
      </svg>
    </div>
  </section>

  <!-- Registration Form Section -->
  <section class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto">
        <!-- Registration Card -->
        <div class="bg-white rounded-2xl shadow-xl p-8 md:p-10 border border-gray-100">
          <div class="text-center mb-8">
            <div class="w-20 h-20 bg-gradient-to-br from-primary-gold to-primary-blue rounded-2xl flex items-center justify-center mx-auto mb-4">
              <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"/>
              </svg>
            </div>
            <h2 class="text-3xl font-heading font-bold text-gray-900 mb-2">Registrierung</h2>
            <p class="text-gray-600">Erstellen Sie Ihr kostenloses Konto</p>
          </div>
          
          <!-- Messages -->
          {% if messages %}
            {% for message in messages %}
              <div class="mb-6 p-4 rounded-xl {% if message.tags == 'error' %}bg-red-50 border border-red-100 text-red-700{% else %}bg-green-50 border border-green-100 text-green-700{% endif %}">
                <div class="flex items-start gap-3">
                  <svg class="w-5 h-5 mt-0.5" fill="currentColor" viewBox="0 0 20 20">
                    {% if message.tags == 'error' %}
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                    {% else %}
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    {% endif %}
                  </svg>
                  <span>{{ message }}</span>
                </div>
              </div>
            {% endfor %}
          {% endif %}
          
          <form method="post" action="{% url 'users:signup' %}" class="space-y-6">
            {% csrf_token %}
            
            <!-- Personal Info -->
            <div>
              <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2">
                <svg class="w-5 h-5 text-primary-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                Persönliche Informationen
              </h3>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">Vorname *</label>
                  <input type="text" name="first_name" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-gold focus:border-transparent transition-all" placeholder="Ihr Vorname" required>
                  {% if form.first_name.errors %}
                    <p class="text-red-600 text-sm mt-1">{{ form.first_name.errors|striptags }}</p>
                  {% endif %}
                </div>
                
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">Nachname *</label>
                  <input type="text" name="last_name" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-gold focus:border-transparent transition-all" placeholder="Ihr Nachname" required>
                  {% if form.last_name.errors %}
                    <p class="text-red-600 text-sm mt-1">{{ form.last_name.errors|striptags }}</p>
                  {% endif %}
                </div>
              </div>
            </div>
            
            <!-- Account Info -->
            <div>
              <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2">
                <svg class="w-5 h-5 text-primary-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"/>
                </svg>
                Konto-Details
              </h3>
              
              <div class="space-y-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">Benutzername *</label>
                  <input type="text" name="username" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-gold focus:border-transparent transition-all" placeholder="Wählen Sie einen Benutzernamen" required>
                  <p class="text-gray-500 text-xs mt-1">Nur Buchstaben, Zahlen und @/./+/-/_ erlaubt</p>
                  {% if form.username.errors %}
                    <p class="text-red-600 text-sm mt-1">{{ form.username.errors|striptags }}</p>
                  {% endif %}
                </div>
                
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">E-Mail-Adresse *</label>
                  <input type="email" name="email" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-gold focus:border-transparent transition-all" placeholder="ihre.email@beispiel.de" required>
                  {% if form.email.errors %}
                    <p class="text-red-600 text-sm mt-1">{{ form.email.errors|striptags }}</p>
                  {% endif %}
                </div>
              </div>
            </div>
            
            <!-- Password -->
            <div>
              <h3 class="text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2">
                <svg class="w-5 h-5 text-primary-blue" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                </svg>
                Passwort erstellen
              </h3>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">Passwort *</label>
                  <input type="password" name="password1" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-gold focus:border-transparent transition-all" placeholder="••••••••" required>
                  {% if form.password1.errors %}
                    <p class="text-red-600 text-sm mt-1">{{ form.password1.errors|striptags }}</p>
                  {% endif %}
                </div>
                
                <div>
                  <label class="block text-sm font-semibold text-gray-700 mb-2">Passwort bestätigen *</label>
                  <input type="password" name="password2" class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-primary-gold focus:border-transparent transition-all" placeholder="••••••••" required>
                  {% if form.password2.errors %}
                    <p class="text-red-600 text-sm mt-1">{{ form.password2.errors|striptags }}</p>
                  {% endif %}
                </div>
              </div>
              
              <div class="bg-blue-50 border border-blue-100 rounded-xl p-4">
                <p class="text-sm font-semibold text-blue-900 mb-2">Passwortanforderungen:</p>
                <ul class="text-xs text-blue-700 space-y-1">
                  <li class="flex items-center gap-2">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    Mindestens 8 Zeichen
                  </li>
                  <li class="flex items-center gap-2">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    Nicht zu ähnlich zu Ihren persönlichen Informationen
                  </li>
                  <li class="flex items-center gap-2">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                    Nicht ausschließlich numerisch
                  </li>
                </ul>
              </div>
            </div>
            
            <!-- Terms -->
            <div class="bg-gray-50 rounded-xl p-4">
              <label class="flex items-start cursor-pointer">
                <input type="checkbox" name="terms" required class="w-5 h-5 text-primary-gold border-gray-300 rounded focus:ring-primary-gold mt-0.5">
                <span class="ml-3 text-sm text-gray-700">
                  Ich akzeptiere die <a href="{% url 'core:terms' %}" class="text-primary-gold hover:underline font-semibold">Allgemeinen Geschäftsbedingungen</a> 
                  und die <a href="{% url 'core:privacy' %}" class="text-primary-gold hover:underline font-semibold">Datenschutzbestimmungen</a>
                </span>
              </label>
            </div>
            
            <button type="submit" class="w-full bg-gradient-to-r from-primary-gold to-primary-gold/90 hover:from-primary-gold/90 hover:to-primary-gold text-white font-bold py-4 rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5">
              Konto erstellen
            </button>
            
            <div class="relative my-6">
              <div class="absolute inset-0 flex items-center">
                <div class="w-full border-t border-gray-300"></div>
              </div>
              <div class="relative flex justify-center text-sm">
                <span class="px-4 bg-white text-gray-500">Haben Sie bereits ein Konto?</span>
              </div>
            </div>
            
            <a href="{% url 'users:login' %}" class="block w-full text-center bg-white border-2 border-primary-blue text-primary-blue hover:bg-primary-blue hover:text-white font-bold py-4 rounded-xl transition-all duration-300">
              Jetzt anmelden
            </a>
          </form>
        </div>
      </div>
    </div>
  </section>
</main>
{% endblock content %}
